{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/lib/utils/format.ts"],"sourcesContent":["/**\n * Format a Sui address for display\n */\nexport function formatAddress(address: string, chars = 4): string {\n  if (!address) return \"\";\n  return `${address.slice(0, chars + 2)}...${address.slice(-chars)}`;\n}\n\n/**\n * Format a number with thousand separators\n */\nexport function formatNumber(num: number, decimals = 2): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    minimumFractionDigits: decimals,\n    maximumFractionDigits: decimals,\n  }).format(num);\n}\n\n/**\n * Format a balance in MIST to SUI\n */\nexport function formatBalance(balance: bigint | string, decimals = 9): string {\n  const balanceBigInt = typeof balance === \"string\" ? BigInt(balance) : balance;\n  const divisor = BigInt(10 ** decimals);\n  const whole = balanceBigInt / divisor;\n  const fraction = balanceBigInt % divisor;\n  \n  const fractionStr = fraction.toString().padStart(decimals, \"0\");\n  const trimmedFraction = fractionStr.replace(/0+$/, \"\");\n  \n  if (trimmedFraction === \"\") {\n    return whole.toString();\n  }\n  \n  return `${whole}.${trimmedFraction}`;\n}\n\n/**\n * Format a USD value\n */\nexport function formatUSD(amount: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }).format(amount);\n}\n\n/**\n * Format a percentage\n */\nexport function formatPercent(value: number, decimals = 2): string {\n  return `${value >= 0 ? \"+\" : \"\"}${value.toFixed(decimals)}%`;\n}\n\n/**\n * Format a timestamp to a readable date\n */\nexport function formatDate(timestamp: number): string {\n  return new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  }).format(new Date(timestamp));\n}\n\n/**\n * Format a relative time (e.g., \"2 minutes ago\")\n */\nexport function formatRelativeTime(timestamp: number): string {\n  const now = Date.now();\n  const diff = now - timestamp;\n  \n  const seconds = Math.floor(diff / 1000);\n  const minutes = Math.floor(seconds / 60);\n  const hours = Math.floor(minutes / 60);\n  const days = Math.floor(hours / 24);\n  \n  if (days > 0) return `${days}d ago`;\n  if (hours > 0) return `${hours}h ago`;\n  if (minutes > 0) return `${minutes}m ago`;\n  return `${seconds}s ago`;\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;AACM,SAAS,cAAc,OAAe,EAAE,QAAQ,CAAC;IACtD,IAAI,CAAC,SAAS,OAAO;IACrB,OAAO,GAAG,QAAQ,KAAK,CAAC,GAAG,QAAQ,GAAG,GAAG,EAAE,QAAQ,KAAK,CAAC,CAAC,QAAQ;AACpE;AAKO,SAAS,aAAa,GAAW,EAAE,WAAW,CAAC;IACpD,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAKO,SAAS,cAAc,OAAwB,EAAE,WAAW,CAAC;IAClE,MAAM,gBAAgB,OAAO,YAAY,WAAW,OAAO,WAAW;IACtE,MAAM,UAAU,OAAO,MAAM;IAC7B,MAAM,QAAQ,gBAAgB;IAC9B,MAAM,WAAW,gBAAgB;IAEjC,MAAM,cAAc,SAAS,QAAQ,GAAG,QAAQ,CAAC,UAAU;IAC3D,MAAM,kBAAkB,YAAY,OAAO,CAAC,OAAO;IAEnD,IAAI,oBAAoB,IAAI;QAC1B,OAAO,MAAM,QAAQ;IACvB;IAEA,OAAO,GAAG,MAAM,CAAC,EAAE,iBAAiB;AACtC;AAKO,SAAS,UAAU,MAAc;IACtC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;IACZ,GAAG,MAAM,CAAC;AACZ;AAKO,SAAS,cAAc,KAAa,EAAE,WAAW,CAAC;IACvD,OAAO,GAAG,SAAS,IAAI,MAAM,KAAK,MAAM,OAAO,CAAC,UAAU,CAAC,CAAC;AAC9D;AAKO,SAAS,WAAW,SAAiB;IAC1C,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAKO,SAAS,mBAAmB,SAAiB;IAClD,MAAM,MAAM,KAAK,GAAG;IACpB,MAAM,OAAO,MAAM;IAEnB,MAAM,UAAU,KAAK,KAAK,CAAC,OAAO;IAClC,MAAM,UAAU,KAAK,KAAK,CAAC,UAAU;IACrC,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;IACnC,MAAM,OAAO,KAAK,KAAK,CAAC,QAAQ;IAEhC,IAAI,OAAO,GAAG,OAAO,GAAG,KAAK,KAAK,CAAC;IACnC,IAAI,QAAQ,GAAG,OAAO,GAAG,MAAM,KAAK,CAAC;IACrC,IAAI,UAAU,GAAG,OAAO,GAAG,QAAQ,KAAK,CAAC;IACzC,OAAO,GAAG,QAAQ,KAAK,CAAC;AAC1B"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/hooks/useClickOutside.ts"],"sourcesContent":["import { useEffect, RefObject } from \"react\";\n\nexport function useClickOutside(\n  ref: RefObject<HTMLElement>,\n  handler: () => void\n) {\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (ref.current && !ref.current.contains(event.target as Node)) {\n        handler();\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [ref, handler]);\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS,gBACd,GAA2B,EAC3B,OAAmB;IAEnB,IAAA,kNAAS,EAAC;QACR,SAAS,mBAAmB,KAAiB;YAC3C,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;gBAC9D;YACF;QACF;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;IACzD,GAAG;QAAC;QAAK;KAAQ;AACnB"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/hooks/useWalletBalances.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { SuiJsonRpcClient, getJsonRpcFullnodeUrl } from \"@mysten/sui/jsonRpc\";\n\ninterface TokenBalance {\n  coinType: string;\n  symbol: string;\n  name: string;\n  balance: string;        // Formatted (e.g., \"125.45\")\n  balanceRaw: string;     // Raw (e.g., \"125450000000\")\n  decimals: number;\n  iconUrl: string | null;\n}\n\nexport function useWalletBalances(address: string | undefined) {\n  const [balances, setBalances] = useState<TokenBalance[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!address) {\n      setBalances([]);\n      return;\n    }\n\n    async function fetchBalances() {\n      setIsLoading(true);\n      setError(null);\n\n      try {\n        // Normalize address to full 66-char Sui format (0x + 64 hex chars)\n        let normalizedAddress = address;\n        if (address.startsWith('0x')) {\n          const hexPart = address.slice(2);\n          if (hexPart.length < 64) {\n            // Pad with leading zeros\n            normalizedAddress = '0x' + hexPart.padStart(64, '0');\n            console.log(\"Normalized address from\", address, \"to\", normalizedAddress);\n          }\n        }\n\n        const suiClient = new SuiJsonRpcClient({ \n          network: \"testnet\",\n          url: getJsonRpcFullnodeUrl(\"testnet\") \n        });\n\n        console.log(\"Fetching balances for:\", normalizedAddress);\n        \n        // 1. Get all coin balances\n        const allBalances = await suiClient.getAllBalances({ owner: normalizedAddress });\n        \n        console.log(\"Got balances:\", allBalances);\n\n        if (!allBalances || allBalances.length === 0) {\n          setBalances([]);\n          setIsLoading(false);\n          return;\n        }\n\n        // 2. Fetch metadata for each coin type\n        const balancesWithMetadata: TokenBalance[] = await Promise.all(\n          allBalances.map(async (bal) => {\n            try {\n              const metadata = await suiClient.getCoinMetadata({\n                coinType: bal.coinType,\n              });\n\n              const decimals = metadata?.decimals ?? 9;\n              const formattedBalance = formatBalance(bal.totalBalance, decimals);\n\n              return {\n                coinType: bal.coinType,\n                symbol: metadata?.symbol ?? extractSymbol(bal.coinType),\n                name: metadata?.name ?? \"Unknown Token\",\n                balance: formattedBalance,\n                balanceRaw: bal.totalBalance,\n                decimals,\n                iconUrl: metadata?.iconUrl ?? null,\n              };\n            } catch (err) {\n              console.log(\"Error fetching metadata for\", bal.coinType, err);\n              // If metadata fetch fails, use defaults\n              return {\n                coinType: bal.coinType,\n                symbol: extractSymbol(bal.coinType),\n                name: \"Unknown Token\",\n                balance: formatBalance(bal.totalBalance, 9),\n                balanceRaw: bal.totalBalance,\n                decimals: 9,\n                iconUrl: null,\n              };\n            }\n          })\n        );\n\n        // 3. Sort: SUI first, then by balance\n        balancesWithMetadata.sort((a, b) => {\n          if (a.symbol === \"SUI\") return -1;\n          if (b.symbol === \"SUI\") return 1;\n          return parseFloat(b.balance) - parseFloat(a.balance);\n        });\n\n        setBalances(balancesWithMetadata);\n      } catch (err) {\n        console.error(\"Error fetching balances:\", err);\n        setError(\"Failed to fetch balances\");\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    fetchBalances();\n  }, [address]);\n\n  return { balances, isLoading, error };\n}\n\n// Helper: Format raw balance to human readable\nfunction formatBalance(rawBalance: string, decimals: number): string {\n  const balance = BigInt(rawBalance);\n  const divisor = BigInt(10 ** decimals);\n  const integerPart = balance / divisor;\n  const fractionalPart = balance % divisor;\n  \n  if (fractionalPart === 0n) {\n    return integerPart.toString();\n  }\n  \n  const fractionalStr = fractionalPart.toString().padStart(decimals, '0');\n  const trimmedFractional = fractionalStr.slice(0, 4).replace(/0+$/, '');\n  \n  if (!trimmedFractional) {\n    return integerPart.toString();\n  }\n  \n  return `${integerPart}.${trimmedFractional}`;\n}\n\n// Helper: Extract symbol from coin type string\nfunction extractSymbol(coinType: string): string {\n  // coinType format: \"0x...::module::SYMBOL\"\n  const parts = coinType.split(\"::\");\n  return parts[parts.length - 1] || \"???\";\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/components/wallet/TokenBalanceItem.tsx"],"sourcesContent":["interface TokenBalanceItemProps {\n  coinType: string;\n  symbol: string;\n  name: string;\n  balance: string;\n  iconUrl: string | null;\n}\n\nexport function TokenBalanceItem({ symbol, name, balance, iconUrl }: TokenBalanceItemProps) {\n  return (\n    <div className=\"flex items-center justify-between py-3 px-4 rounded-xl hover:bg-white/5 transition-colors\">\n      <div className=\"flex items-center gap-3\">\n        {/* Token Icon */}\n        <div className=\"w-8 h-8 rounded-full bg-sui-blue/20 flex items-center justify-center overflow-hidden\">\n          {iconUrl ? (\n            <img src={iconUrl} alt={symbol} className=\"w-full h-full object-cover\" />\n          ) : (\n            <span className=\"text-sm font-bold text-sui-blue\">{symbol[0]}</span>\n          )}\n        </div>\n        \n        {/* Token Info */}\n        <div className=\"flex flex-col\">\n          <span className=\"text-sm font-semibold text-white\">{symbol}</span>\n          <span className=\"text-xs text-gray-400\">{name}</span>\n        </div>\n      </div>\n      \n      {/* Balance */}\n      <div className=\"text-right\">\n        <span className=\"text-sm font-bold text-white\">{balance}</span>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAQO,SAAS,iBAAiB,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAyB;IACxF,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;kCACZ,wBACC,8OAAC;4BAAI,KAAK;4BAAS,KAAK;4BAAQ,WAAU;;;;;iDAE1C,8OAAC;4BAAK,WAAU;sCAAmC,MAAM,CAAC,EAAE;;;;;;;;;;;kCAKhE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAoC;;;;;;0CACpD,8OAAC;gCAAK,WAAU;0CAAyB;;;;;;;;;;;;;;;;;;0BAK7C,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,WAAU;8BAAgC;;;;;;;;;;;;;;;;;AAIxD"}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/components/wallet/TokenBalanceList.tsx"],"sourcesContent":["import { useWalletBalances } from \"@/hooks/useWalletBalances\";\nimport { TokenBalanceItem } from \"./TokenBalanceItem\";\n\ninterface TokenBalanceListProps {\n  address: string;\n}\n\nexport function TokenBalanceList({ address }: TokenBalanceListProps) {\n  const { balances, isLoading, error } = useWalletBalances(address);\n\n  console.log('[TokenBalanceList] address:', address);\n  console.log('[TokenBalanceList] balances:', balances);\n  console.log('[TokenBalanceList] isLoading:', isLoading);\n  console.log('[TokenBalanceList] error:', error);\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-3\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"h-14 bg-white/5 rounded-xl animate-pulse\" />\n        ))}\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-8 text-gray-400 text-sm\">\n        Failed to load balances\n      </div>\n    );\n  }\n\n  if (balances.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-400 text-sm\">\n        No tokens found\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-1\">\n      {balances.map((token) => (\n        <TokenBalanceItem\n          key={token.coinType}\n          coinType={token.coinType}\n          symbol={token.symbol}\n          name={token.name}\n          balance={token.balance}\n          iconUrl={token.iconUrl}\n        />\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAMO,SAAS,iBAAiB,EAAE,OAAO,EAAyB;IACjE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,+IAAiB,EAAC;IAEzD,QAAQ,GAAG,CAAC,+BAA+B;IAC3C,QAAQ,GAAG,CAAC,gCAAgC;IAC5C,QAAQ,GAAG,CAAC,iCAAiC;IAC7C,QAAQ,GAAG,CAAC,6BAA6B;IAEzC,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACZ;gBAAC;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,kBACd,8OAAC;oBAAY,WAAU;mBAAb;;;;;;;;;;IAIlB;IAEA,IAAI,OAAO;QACT,qBACE,8OAAC;YAAI,WAAU;sBAAyC;;;;;;IAI5D;IAEA,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,qBACE,8OAAC;YAAI,WAAU;sBAAyC;;;;;;IAI5D;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAC,sBACb,8OAAC,6JAAgB;gBAEf,UAAU,MAAM,QAAQ;gBACxB,QAAQ,MAAM,MAAM;gBACpB,MAAM,MAAM,IAAI;gBAChB,SAAS,MAAM,OAAO;gBACtB,SAAS,MAAM,OAAO;eALjB,MAAM,QAAQ;;;;;;;;;;AAU7B"}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/components/wallet/WalletDropdown.tsx"],"sourcesContent":["import { useRef, useState } from \"react\";\nimport { useClickOutside } from \"@/hooks/useClickOutside\";\nimport { TokenBalanceList } from \"./TokenBalanceList\";\nimport { formatAddress } from \"@/lib/utils/format\";\n\ninterface WalletDropdownProps {\n  address: string;\n  onClose: () => void;\n  onDisconnect: () => void;\n}\n\nexport function WalletDropdown({ address, onClose, onDisconnect }: WalletDropdownProps) {\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const [copied, setCopied] = useState(false);\n  \n  // Close when clicking outside\n  useClickOutside(dropdownRef, onClose);\n\n  console.log('[WalletDropdown] Rendering with address:', address);\n\n  const copyAddress = () => {\n    navigator.clipboard.writeText(address);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  return (\n    <div\n      ref={dropdownRef}\n      className=\"absolute top-[calc(100%+8px)] right-0 w-[340px] bg-[#0a0a0f]/95 backdrop-blur-xl border border-sui-blue/20 rounded-2xl shadow-[0_0_30px_rgba(77,162,255,0.15)] overflow-hidden animate-dropdown z-50\"\n    >\n      {/* Header: Address + Copy */}\n      <div className=\"p-4 border-b border-white/5\">\n        <div className=\"mb-2\">\n          <span className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider\">Wallet Address</span>\n        </div>\n        <button\n          onClick={copyAddress}\n          className=\"w-full flex items-center justify-between px-4 py-3 bg-white/90 hover:bg-white rounded-xl transition-colors group\"\n        >\n          <span className=\"text-sm font-mono text-gray-900 font-semibold break-all text-left\">{address}</span>\n          <div className=\"ml-3 flex-shrink-0\">\n            {copied ? (\n              <svg\n                className=\"w-4 h-4 text-green-400\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n            ) : (\n              <svg\n                className=\"w-4 h-4 text-gray-400 group-hover:text-sui-blue transition-colors\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\" />\n                <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\" />\n              </svg>\n            )}\n          </div>\n        </button>\n      </div>\n\n      {/* Network Badge */}\n      <div className=\"px-4 pt-3 pb-2\">\n        <div className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-green-500/10 border border-green-500/30 rounded-full\">\n          <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n          <span className=\"text-xs font-semibold text-green-400\">Sui Testnet</span>\n        </div>\n      </div>\n\n      {/* Token Balances */}\n      <div className=\"px-4 py-3\">\n        <h3 className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3 px-2\">\n          Your Tokens\n        </h3>\n        <div className=\"max-h-[300px] overflow-y-auto custom-scrollbar\">\n          <TokenBalanceList address={address} />\n        </div>\n      </div>\n\n      {/* Disconnect Button */}\n      <div className=\"p-4 border-t border-white/5\">\n        <button\n          onClick={onDisconnect}\n          className=\"w-full py-3 px-4 bg-red-500/10 hover:bg-red-500/20 border border-red-500/30 rounded-xl text-red-400 font-semibold text-sm transition-all flex items-center justify-center gap-2 group\"\n        >\n          <svg\n            className=\"w-4 h-4 group-hover:rotate-12 transition-transform\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n            />\n          </svg>\n          Disconnect Wallet\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AASO,SAAS,eAAe,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,EAAuB;IACpF,MAAM,cAAc,IAAA,+MAAM,EAAiB;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,8BAA8B;IAC9B,IAAA,2IAAe,EAAC,aAAa;IAE7B,QAAQ,GAAG,CAAC,4CAA4C;IAExD,MAAM,cAAc;QAClB,UAAU,SAAS,CAAC,SAAS,CAAC;QAC9B,UAAU;QACV,WAAW,IAAM,UAAU,QAAQ;IACrC;IAEA,qBACE,8OAAC;QACC,KAAK;QACL,WAAU;;0BAGV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAK,WAAU;sCAA+D;;;;;;;;;;;kCAEjF,8OAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,8OAAC;gCAAK,WAAU;0CAAqE;;;;;;0CACrF,8OAAC;gCAAI,WAAU;0CACZ,uBACC,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,8OAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;yDAGvE,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;;sDAER,8OAAC;4CAAK,GAAE;4CAAI,GAAE;4CAAI,OAAM;4CAAK,QAAO;4CAAK,IAAG;4CAAI,IAAG;;;;;;sDACnD,8OAAC;4CAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQlB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;4BAAK,WAAU;sCAAuC;;;;;;;;;;;;;;;;;0BAK3D,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAqE;;;;;;kCAGnF,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,6JAAgB;4BAAC,SAAS;;;;;;;;;;;;;;;;;0BAK/B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,SAAS;oBACT,WAAU;;sCAEV,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,QAAO;4BACP,SAAQ;sCAER,cAAA,8OAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,aAAa;gCACb,GAAE;;;;;;;;;;;wBAEA;;;;;;;;;;;;;;;;;;AAMhB"}},
    {"offset": {"line": 639, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/components/wallet/WalletSelector.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { X } from \"lucide-react\";\n\ninterface WalletSelectorProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSelectTurnkey: () => void;\n  onSelectSui: () => void;\n}\n\nexport function WalletSelector({ isOpen, onClose, onSelectTurnkey, onSelectSui }: WalletSelectorProps) {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    // Optional: Lock body scroll when modal is open\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    return () => { document.body.style.overflow = 'unset'; };\n  }, [isOpen]);\n\n  // Don't render until client-side hydration is complete\n  if (!mounted || !isOpen) return null;\n\n  // THE FIX: createPortal teleports this div to document.body\n  return createPortal(\n    <div className=\"fixed inset-0 z-[9999] grid place-items-center p-4\">\n      \n      {/* BACKDROP */}\n      <div \n        className=\"fixed inset-0 bg-[#0a0a0f]/80 backdrop-blur-md transition-opacity animate-in fade-in duration-200\" \n        onClick={onClose}\n        aria-hidden=\"true\"\n      />\n\n      {/* MODAL CARD */}\n      <div className=\"relative w-full max-w-[400px] bg-[#0D111C] rounded-[32px] border border-white/10 shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 my-auto\">\n        \n        {/* Header with Close Button */}\n        <div className=\"flex justify-between items-center p-6 pb-2\">\n          <h2 className=\"text-xl font-bold text-white tracking-wide\">Connect Wallet</h2>\n          <button \n            onClick={onClose}\n            className=\"p-2 -mr-2 rounded-full bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-colors\"\n          >\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Wallet Options List */}\n        <div className=\"p-6 pt-4 flex flex-col gap-4\">\n          \n          {/* Option 1: Turnkey */}\n          <button \n            onClick={onSelectTurnkey}\n            className=\"group relative flex items-center justify-between p-4 rounded-[24px] bg-[#131825] border border-white/5 hover:border-sui-blue/50 transition-all hover:bg-[#1A2133] text-left\"\n          >\n            <div className=\"flex items-center gap-4\">\n              <div className=\"w-11 h-11 rounded-full bg-white flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform\">\n                {/* Icon */}\n                <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"text-black\"><rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect><path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path></svg>\n              </div>\n              <div>\n                <h3 className=\"text-white font-bold text-[17px]\">Turnkey Wallet</h3>\n                <p className=\"text-gray-400 text-sm\">Email & Passkey login</p>\n              </div>\n            </div>\n            <div className=\"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-gray-400 group-hover:bg-sui-blue group-hover:text-white transition-colors\">\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\"><path d=\"M9 18l6-6-6-6\"/></svg>\n            </div>\n          </button>\n\n          {/* Option 2: Sui Wallets */}\n          <button \n            onClick={onSelectSui}\n            className=\"group relative flex items-center justify-between p-4 rounded-[24px] bg-[#131825] border border-white/5 hover:border-sui-blue/50 transition-all hover:bg-[#1A2133] text-left\"\n          >\n             <div className=\"flex items-center gap-4\">\n              <div className=\"w-11 h-11 rounded-full bg-[#4DA2FF]/20 flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform\">\n                {/* Sui Icon */}\n                <div className=\"w-5 h-6 bg-sui-blue rounded-b-full drop-shadow-[0_0_10px_rgba(77,162,255,0.8)]\"></div>\n              </div>\n              <div>\n                <h3 className=\"text-white font-bold text-[17px]\">Sui Wallets</h3>\n                <p className=\"text-gray-400 text-sm\">Slush, Welldone, etc.</p>\n              </div>\n            </div>\n            <div className=\"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-gray-400 group-hover:bg-sui-blue group-hover:text-white transition-colors\">\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\"><path d=\"M9 18l6-6-6-6\"/></svg>\n            </div>\n          </button>\n\n        </div>\n\n        {/* Footer */}\n        <div className=\"p-6 pt-2 text-center bg-[#131825]/50 border-t border-white/5\">\n            <p className=\"text-xs text-gray-500 leading-relaxed\">\n                By connecting, you agree to our <span className=\"text-sui-blue hover:underline cursor-pointer\">Terms</span> and <span className=\"text-sui-blue hover:underline cursor-pointer\">Privacy Policy</span>.\n            </p>\n        </div>\n\n      </div>\n    </div>,\n    document.body // This is the magic part that moves it out of the navbar\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAYO,SAAS,eAAe,EAAE,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAuB;IACnG,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,gDAAgD;QAChD,IAAI,QAAQ;YACV,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QACA,OAAO;YAAQ,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QAAS;IACzD,GAAG;QAAC;KAAO;IAEX,uDAAuD;IACvD,IAAI,CAAC,WAAW,CAAC,QAAQ,OAAO;IAEhC,4DAA4D;IAC5D,qBAAO,IAAA,4NAAY,gBACjB,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBACC,WAAU;gBACV,SAAS;gBACT,eAAY;;;;;;0BAId,8OAAC;gBAAI,WAAU;;kCAGb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA6C;;;;;;0CAC3D,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC,iMAAC;oCAAC,MAAM;;;;;;;;;;;;;;;;;kCAKb,8OAAC;wBAAI,WAAU;;0CAGb,8OAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DAEb,cAAA,8OAAC;oDAAI,OAAM;oDAAK,QAAO;oDAAK,SAAQ;oDAAY,MAAK;oDAAO,QAAO;oDAAe,aAAY;oDAAI,WAAU;;sEAAa,8OAAC;4DAAK,GAAE;4DAAI,GAAE;4DAAK,OAAM;4DAAK,QAAO;4DAAK,IAAG;4DAAI,IAAG;;;;;;sEAAW,8OAAC;4DAAK,GAAE;;;;;;;;;;;;;;;;;0DAElM,8OAAC;;kEACC,8OAAC;wDAAG,WAAU;kEAAmC;;;;;;kEACjD,8OAAC;wDAAE,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;kDAGzC,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAI,OAAM;4CAAK,QAAO;4CAAK,SAAQ;4CAAY,MAAK;4CAAO,QAAO;4CAAe,aAAY;sDAAI,cAAA,8OAAC;gDAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;0CAK9G,8OAAC;gCACC,SAAS;gCACT,WAAU;;kDAET,8OAAC;wCAAI,WAAU;;0DACd,8OAAC;gDAAI,WAAU;0DAEb,cAAA,8OAAC;oDAAI,WAAU;;;;;;;;;;;0DAEjB,8OAAC;;kEACC,8OAAC;wDAAG,WAAU;kEAAmC;;;;;;kEACjD,8OAAC;wDAAE,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;kDAGzC,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAI,OAAM;4CAAK,QAAO;4CAAK,SAAQ;4CAAY,MAAK;4CAAO,QAAO;4CAAe,aAAY;sDAAI,cAAA,8OAAC;gDAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAOhH,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAE,WAAU;;gCAAwC;8CACjB,8OAAC;oCAAK,WAAU;8CAA+C;;;;;;gCAAY;8CAAK,8OAAC;oCAAK,WAAU;8CAA+C;;;;;;gCAAqB;;;;;;;;;;;;;;;;;;;;;;;cAMhN,SAAS,IAAI,CAAC,yDAAyD;;AAE3E"}},
    {"offset": {"line": 973, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/components/wallet/ConnectButton.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { \n  ConnectModal,\n  useCurrentAccount,\n  useDisconnectWallet \n} from \"@mysten/dapp-kit\";\nimport { useTurnkey } from \"@turnkey/react-wallet-kit\";\nimport { formatAddress } from \"@/lib/utils/format\";\nimport { WalletDropdown } from \"./WalletDropdown\";\nimport { WalletSelector } from \"./WalletSelector\";\n\nexport function ConnectButton() {\n  const currentAccount = useCurrentAccount();\n  const { mutate: disconnect } = useDisconnectWallet();\n  const { logout: turnkeyLogout, handleLogin, wallets: turnkeyWallets } = useTurnkey();\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isSuiModalOpen, setIsSuiModalOpen] = useState(false);\n  \n  const turnkeyAddress = turnkeyWallets?.[0]?.accounts?.[0]?.address;\n  const isTurnkeyConnected = !!turnkeyAddress;\n\n  // Handler: Turnkey Selected\n  const handleTurnkeySelect = async () => {\n    setIsModalOpen(false);\n    try {\n      await handleLogin();\n    } catch (e) {\n      console.error(\"Turnkey login failed\", e);\n    }\n  };\n\n  // Handler: Sui Wallet Selected\n  const handleSuiSelect = () => {\n    setIsModalOpen(false);\n    setIsSuiModalOpen(true);\n  };\n\n  // Handle Turnkey disconnect\n  const handleTurnkeyDisconnect = async () => {\n    try {\n      await turnkeyLogout();\n      \n      // Clear all Turnkey-related localStorage\n      Object.keys(localStorage).forEach(key => {\n        if (key.includes('turnkey') || key.includes('Turnkey')) {\n          localStorage.removeItem(key);\n        }\n      });\n      \n      setIsDropdownOpen(false);\n    } catch (error) {\n      console.error(\"[ConnectButton] Turnkey disconnect failed:\", error);\n    }\n  };\n\n  // Show Turnkey wallet if connected\n  if (isTurnkeyConnected) {\n    return (\n      <div className=\"relative\">\n        <button\n          onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n          className=\"bg-purple-500/20 hover:bg-purple-500/30 text-purple-300 px-6 py-2.5 rounded-full font-medium text-sm transition-all border border-purple-500/30\"\n        >\n          üîê {formatAddress(turnkeyAddress, 4)}\n        </button>\n\n        {isDropdownOpen && (\n          <WalletDropdown\n            address={turnkeyAddress}\n            onClose={() => setIsDropdownOpen(false)}\n            onDisconnect={handleTurnkeyDisconnect}\n          />\n        )}\n      </div>\n    );\n  }\n\n  // Show browser wallet if connected\n  if (currentAccount) {\n    return (\n      <div className=\"relative\">\n        <button\n          onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n          className=\"bg-white/10 hover:bg-white/20 text-white px-6 py-2.5 rounded-full font-medium text-sm transition-all border border-white/10\"\n        >\n          {formatAddress(currentAccount.address, 4)}\n        </button>\n\n        {isDropdownOpen && (\n          <WalletDropdown\n            address={currentAccount.address}\n            onClose={() => setIsDropdownOpen(false)}\n            onDisconnect={() => {\n              disconnect();\n              setIsDropdownOpen(false);\n            }}\n          />\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <button\n        onClick={() => setIsModalOpen(true)}\n        className=\"bg-sui-blue hover:bg-blue-500 text-white px-6 py-2.5 rounded-full font-medium text-sm transition-all shadow-[0_0_15px_rgba(77,162,255,0.4)] hover:shadow-[0_0_25px_rgba(77,162,255,0.6)]\"\n      >\n        Connect Wallet\n      </button>\n\n      {/* Official Sui Modal (Hidden until triggered) */}\n      <ConnectModal\n        trigger={<span className=\"hidden\"></span>}\n        open={isSuiModalOpen}\n        onOpenChange={setIsSuiModalOpen}\n      />\n\n      {/* Custom Wallet Selector Modal */}\n      <WalletSelector \n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        onSelectTurnkey={handleTurnkeySelect}\n        onSelectSui={handleSuiSelect}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAKA;AAAA;AACA;AACA;AACA;AAXA;;;;;;;;AAaO,SAAS;IACd,MAAM,iBAAiB,IAAA,8KAAiB;IACxC,MAAM,EAAE,QAAQ,UAAU,EAAE,GAAG,IAAA,gLAAmB;IAClD,MAAM,EAAE,QAAQ,aAAa,EAAE,WAAW,EAAE,SAAS,cAAc,EAAE,GAAG,IAAA,yMAAU;IAClF,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IAErD,MAAM,iBAAiB,gBAAgB,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE;IAC3D,MAAM,qBAAqB,CAAC,CAAC;IAE7B,4BAA4B;IAC5B,MAAM,sBAAsB;QAC1B,eAAe;QACf,IAAI;YACF,MAAM;QACR,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,+BAA+B;IAC/B,MAAM,kBAAkB;QACtB,eAAe;QACf,kBAAkB;IACpB;IAEA,4BAA4B;IAC5B,MAAM,0BAA0B;QAC9B,IAAI;YACF,MAAM;YAEN,yCAAyC;YACzC,OAAO,IAAI,CAAC,cAAc,OAAO,CAAC,CAAA;gBAChC,IAAI,IAAI,QAAQ,CAAC,cAAc,IAAI,QAAQ,CAAC,YAAY;oBACtD,aAAa,UAAU,CAAC;gBAC1B;YACF;YAEA,kBAAkB;QACpB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8CAA8C;QAC9D;IACF;IAEA,mCAAmC;IACnC,IAAI,oBAAoB;QACtB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,SAAS,IAAM,kBAAkB,CAAC;oBAClC,WAAU;;wBACX;wBACK,IAAA,uIAAa,EAAC,gBAAgB;;;;;;;gBAGnC,gCACC,8OAAC,yJAAc;oBACb,SAAS;oBACT,SAAS,IAAM,kBAAkB;oBACjC,cAAc;;;;;;;;;;;;IAKxB;IAEA,mCAAmC;IACnC,IAAI,gBAAgB;QAClB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,SAAS,IAAM,kBAAkB,CAAC;oBAClC,WAAU;8BAET,IAAA,uIAAa,EAAC,eAAe,OAAO,EAAE;;;;;;gBAGxC,gCACC,8OAAC,yJAAc;oBACb,SAAS,eAAe,OAAO;oBAC/B,SAAS,IAAM,kBAAkB;oBACjC,cAAc;wBACZ;wBACA,kBAAkB;oBACpB;;;;;;;;;;;;IAKV;IAEA,qBACE;;0BACE,8OAAC;gBACC,SAAS,IAAM,eAAe;gBAC9B,WAAU;0BACX;;;;;;0BAKD,8OAAC,yKAAY;gBACX,uBAAS,8OAAC;oBAAK,WAAU;;;;;;gBACzB,MAAM;gBACN,cAAc;;;;;;0BAIhB,8OAAC,yJAAc;gBACb,QAAQ;gBACR,SAAS,IAAM,eAAe;gBAC9B,iBAAiB;gBACjB,aAAa;;;;;;;;AAIrB"}},
    {"offset": {"line": 1140, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/components/layout/Header.tsx"],"sourcesContent":["\"use client\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { ConnectButton } from \"../wallet/ConnectButton\"; \n\nexport function Header() {\n  const navLinks = [\"Swap\", \"Trade\", \"Chat\", \"Portfolio\", \"Orders\", \"History\"];\n\n  return (\n    // 1. Fixed positioning z-50 ensures it's always on top of the Hero image\n    <header className=\"fixed top-6 left-0 right-0 z-50 flex justify-center w-full px-4 pointer-events-none\">\n      \n      {/* 2. The Glass Pill - Dark Background (bg-black/80) for maximum text visibility */}\n      <div className=\"pointer-events-auto flex items-center justify-between min-w-[320px] md:min-w-[650px] py-3 px-5 rounded-full bg-black/80 backdrop-blur-xl border border-white/10 shadow-[0_0_20px_rgba(0,0,0,0.5)]\">\n        \n        {/* LEFT: Logo */}\n        <div className=\"flex-shrink-0\">\n            <Link href=\"/\" className=\"hover:scale-105 transition-transform\">\n               <Image \n                 src=\"/suitentlogo.png\" \n                 alt=\"SuiTent Logo\" \n                 width={40} \n                 height={40} \n                 className=\"rounded-full object-cover shadow-lg shadow-sui-blue/20\"\n               />\n            </Link>\n        </div>\n\n        {/* CENTER: Nav Links - Always Visible with Z-Index */}\n        <nav className=\"flex items-center justify-center gap-6 flex-1 relative z-20\">\n            {navLinks.map((link) => (\n                <Link \n                key={link} \n                href={`/${link.toLowerCase()}`}\n                className=\"text-base font-extrabold text-white hover:text-sui-blue transition-colors tracking-wide relative z-20\"\n                style={{ textShadow: '0 2px 8px rgba(0,0,0,0.8)' }}\n                >\n                {link}\n                </Link>\n            ))}\n        </nav>\n\n        {/* RIGHT: Connect Button */}\n        <div className=\"flex-shrink-0\">\n            {/* Style override to make the Turnkey button look like a white pill */}\n            <div className=\"[&_button]:bg-white [&_button]:text-black [&_button]:px-6 [&_button]:py-2.5 [&_button]:rounded-full [&_button]:font-bold [&_button]:text-sm [&_button]:hover:bg-gray-200 [&_button]:transition-all [&_button]:shadow-lg\">\n                <ConnectButton />\n            </div>\n        </div>\n\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKO,SAAS;IACd,MAAM,WAAW;QAAC;QAAQ;QAAS;QAAQ;QAAa;QAAU;KAAU;IAE5E,OACE,yEAAyE;kBACzE,8OAAC;QAAO,WAAU;kBAGhB,cAAA,8OAAC;YAAI,WAAU;;8BAGb,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC,uKAAI;wBAAC,MAAK;wBAAI,WAAU;kCACtB,cAAA,8OAAC,wIAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,WAAU;;;;;;;;;;;;;;;;8BAMnB,8OAAC;oBAAI,WAAU;8BACV,SAAS,GAAG,CAAC,CAAC,qBACX,8OAAC,uKAAI;4BAEL,MAAM,CAAC,CAAC,EAAE,KAAK,WAAW,IAAI;4BAC9B,WAAU;4BACV,OAAO;gCAAE,YAAY;4BAA4B;sCAEhD;2BALI;;;;;;;;;;8BAWb,8OAAC;oBAAI,WAAU;8BAEX,cAAA,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,uJAAa;;;;;;;;;;;;;;;;;;;;;;;;;;AAO9B"}},
    {"offset": {"line": 1296, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/hooks/useUniversalSwap.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport { useSignAndExecuteTransaction, useCurrentAccount, useSuiClient } from \"@mysten/dapp-kit\";\nimport { useTurnkey } from \"@turnkey/react-wallet-kit\";\nimport { Transaction } from \"@mysten/sui/transactions\";\nimport { deepbook, type DeepBookClient } from '@mysten/deepbook-v3';\nimport type { ClientWithExtensions } from '@mysten/sui/client';\nimport { Ed25519PublicKey } from \"@mysten/sui/keypairs/ed25519\";\nimport { messageWithIntent } from \"@mysten/sui/cryptography\";\nimport { blake2b } from \"@noble/hashes/blake2b\";\nimport { bytesToHex } from \"@noble/hashes/utils\";\nimport { bcs } from '@mysten/sui/bcs';\n\nexport function useUniversalSwap() {\n  // Browser wallets (Suiet, Welldone, Sui Wallet)\n  const currentAccount = useCurrentAccount();\n  const { mutate: signAndExecute } = useSignAndExecuteTransaction();\n  const suiClient = useSuiClient();\n  \n  // Turnkey wallet\n  const turnkeyHook = useTurnkey();\n  const { wallets: turnkeyWallets } = turnkeyHook;\n  const turnkeyWallet = turnkeyWallets?.[0];\n  const turnkeyAddress = turnkeyWallet?.accounts?.[0]?.address;\n  const turnkeyPublicKey = turnkeyWallet?.accounts?.[0]?.publicKey;\n  const httpClient = (turnkeyHook as any).httpClient;\n  \n  // Determine which wallet is connected\n  const walletAddress = currentAccount?.address || turnkeyAddress;\n  const walletType = currentAccount ? 'standard' : (turnkeyAddress ? 'turnkey' : null);\n  \n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [txDigest, setTxDigest] = useState<string | null>(null);\n\n  console.log(`[useUniversalSwap] Wallet Type: ${walletType}, Address: ${walletAddress}`);\n\n  // Execute swap with automatic wallet detection\n  const executeSwap = useCallback(\n    async (tokenIn: string, tokenOut: string, amountIn: string, slippage: number = 0.01) => {\n      console.log(`[useUniversalSwap] executeSwap: ${amountIn} ${tokenIn} -> ${tokenOut} (${walletType})`);\n\n      if (!walletAddress) {\n        const error = \"Wallet not connected\";\n        console.error(\"[useUniversalSwap]\", error);\n        setError(error);\n        return null;\n      }\n\n      setLoading(true);\n      setError(null);\n      setTxDigest(null);\n\n      try {\n        // For simplicity: Use 0 as minOut to avoid slippage issues during testing\n        // TODO: Implement proper quote mechanism using SDK dry-run methods\n        const minAmountOut = \"0\";\n        \n        console.log(\"[useUniversalSwap] Using minAmountOut=0 (no slippage protection for testing)\");\n        \n        // Build transaction on frontend\n        console.log(\"[useUniversalSwap] Building transaction on frontend...\");\n        const tx = await buildSwapTransactionFrontend(\n          tokenIn,\n          tokenOut,\n          amountIn,\n          minAmountOut,\n          walletAddress,\n          suiClient\n        );\n\n        // Execute transaction based on wallet type\n        console.log(`[useUniversalSwap] Executing with ${walletType} wallet...`);\n        \n        let resultDigest: string;\n        \n        if (walletType === 'standard') {\n          // Browser wallet execution\n          resultDigest = await new Promise<string>((resolve, reject) => {\n            signAndExecute(\n              { transaction: tx },\n              {\n                onSuccess: (result) => {\n                  console.log(\"[useUniversalSwap] ‚úÖ Swap successful! Digest:\", result.digest);\n                  resolve(result.digest);\n                },\n                onError: (err) => {\n                  console.error(\"[useUniversalSwap] ‚ùå Swap failed:\", err);\n                  reject(err);\n                },\n              }\n            );\n          });\n        } else if (walletType === 'turnkey') {\n          // Turnkey wallet execution (following official docs)\n          console.log(\"[useUniversalSwap] Signing with Turnkey...\");\n          \n          if (!httpClient || !turnkeyPublicKey) {\n            throw new Error(\"Turnkey client or public key not available\");\n          }\n\n          // Build transaction bytes\n          const { SuiGrpcClient } = await import('@mysten/sui/grpc');\n          const grpcClient = new SuiGrpcClient({\n            network: 'testnet',\n            baseUrl: 'https://fullnode.testnet.sui.io:443',\n          });\n\n          // Build transaction to get raw bytes\n          const builtTx = await tx.build({ client: grpcClient });\n          \n          // Create digest for signing (following Turnkey docs)\n          const intentMessage = messageWithIntent('TransactionData', builtTx);\n          const digest = blake2b(intentMessage, { dkLen: 32 });\n          const hexDigest = bytesToHex(digest);\n\n          console.log(\"[useUniversalSwap] Transaction digest:\", hexDigest);\n\n          // Sign with Turnkey using signRawPayload (official pattern)\n          const signResponse = await httpClient.signRawPayload({\n            signWith: turnkeyAddress,\n            payload: hexDigest,\n            encoding: 'PAYLOAD_ENCODING_HEXADECIMAL',\n            hashFunction: 'HASH_FUNCTION_NOT_APPLICABLE',\n          });\n\n          console.log(\"[useUniversalSwap] Signature received from Turnkey\");\n\n          // Serialize signature for Sui (official pattern)\n          const publicKey = new Ed25519PublicKey(Buffer.from(turnkeyPublicKey, 'hex'));\n          const signatureBytes = Buffer.from(signResponse.r + signResponse.s, 'hex');\n          const publicKeyBytes = publicKey.toRawBytes();\n          \n          const serializedSignature = Buffer.concat([\n            Buffer.from([0x00]), // ED25519 flag\n            signatureBytes,\n            publicKeyBytes,\n          ]).toString('base64');\n\n          // Execute transaction\n          const result = await grpcClient.executeTransaction({\n            transaction: builtTx,\n            signature: serializedSignature,\n          });\n\n          resultDigest = result.digest;\n\n          console.log(\"[useUniversalSwap] ‚úÖ Turnkey swap successful! Digest:\", resultDigest);\n        } else {\n          throw new Error(\"No wallet connected\");\n        }\n\n        console.log(`[useUniversalSwap] ‚úÖ SUCCESS! Digest: ${resultDigest}`);\n        \n        // Wait a bit for the transaction to be processed\n        await new Promise(resolve => setTimeout(resolve, 2000));\n        \n        // Check DEEP balance after swap\n        try {\n          const deepCoins = await suiClient.getCoins({\n            owner: walletAddress,\n            coinType: \"0x36dbef866a1d62bf7328989a10fb2f07d769f4ee587c0de4a0a256e57e0a58a8::deep::DEEP\"\n          });\n          const deepBalance = deepCoins.data.reduce((sum, coin) => sum + BigInt(coin.balance), 0n);\n          console.log(`[useUniversalSwap] DEEP balance after swap: ${deepBalance} (${Number(deepBalance) / 1e6} DEEP)`);\n          console.log(`[useUniversalSwap] DEEP coins found:`, deepCoins.data.length);\n        } catch (e) {\n          console.error(\"[useUniversalSwap] Error checking DEEP balance:\", e);\n        }\n        \n        setTxDigest(resultDigest);\n        return resultDigest;\n\n      } catch (err: any) {\n        console.error(\"[useUniversalSwap] Error:\", err);\n        setError(err.message || \"Swap failed\");\n        return null;\n      } finally {\n        setLoading(false);\n      }\n    },\n    [walletAddress, walletType, currentAccount, signAndExecute, turnkeyWallet, turnkeyAddress, turnkeyPublicKey, httpClient, turnkeyHook, suiClient]\n  );\n\n  const reset = useCallback(() => {\n    setError(null);\n    setTxDigest(null);\n  }, []);\n\n  return {\n    loading,\n    error,\n    txDigest,\n    executeSwap,\n    reset,\n    walletType, // Expose wallet type for UI\n  };\n}\n\n// Build swap transaction using DeepBook SDK\nasync function buildSwapTransactionFrontend(\n  tokenIn: string,\n  tokenOut: string,\n  amountIn: string,\n  minAmountOut: string,\n  walletAddress: string,\n  suiClient: any,\n) {\n  console.log(`[buildSwapTransactionFrontend] Building ${tokenIn} -> ${tokenOut} swap with DeepBook SDK`);\n  \n  const { SuiGrpcClient } = await import('@mysten/sui/grpc');\n\n  type DeepBookExtendedClient = ClientWithExtensions<{ deepbook: DeepBookClient }>;\n\n  const deepbookClient: DeepBookExtendedClient = new SuiGrpcClient({\n    network: 'testnet',\n    baseUrl: 'https://fullnode.testnet.sui.io:443',\n  }).$extend(\n    deepbook({\n      address: walletAddress,\n    }),\n  );\n\n  const tx = new Transaction();\n  tx.setSender(walletAddress);\n\n  // SDK expects decimal amounts (e.g., 1.0 for 1 SUI), not base units\n  // The SDK internally handles conversion to base units\n  const amount = parseFloat(amountIn);\n  const minOut = parseFloat(minAmountOut);\n\n  console.log(`[buildSwapTransactionFrontend] Amount: ${amount} ${tokenIn}`);\n  console.log(`[buildSwapTransactionFrontend] MinOut: ${minOut} ${tokenOut}`);\n\n  // Determine swap direction\n  if (tokenIn === \"SUI\" && tokenOut === \"DEEP\") {\n    // SUI -> DEEP: In DEEP_SUI pool, DEEP is base, SUI is quote\n    // So we swap quote -> base\n    console.log(\"[SDK] swapExactQuoteForBase: SUI (quote) -> DEEP (base)\");\n    \n    // Manually split SUI from tx.gas before passing to SDK\n    const amountInMist = BigInt(Math.floor(amount * 1e9));\n    const [suiCoin] = tx.splitCoins(tx.gas, [amountInMist]);\n    \n    const [baseOut, quoteOut, deepOut] = deepbookClient.deepbook.deepBook.swapExactQuoteForBase({\n      poolKey: 'DEEP_SUI',\n      amount,\n      deepAmount: 0, // whitelisted pool\n      minOut,\n      quoteCoin: suiCoin, // Pass explicit coin split from gas\n    })(tx);\n\n    tx.transferObjects([baseOut, quoteOut, deepOut], walletAddress);\n    \n  } else if (tokenIn === \"DEEP\" && tokenOut === \"SUI\") {\n    // DEEP -> SUI: swap base -> quote\n    console.log(\"[SDK] swapExactBaseForQuote: DEEP (base) -> SUI (quote)\");\n    \n    const [baseOut, quoteOut, deepOut] = deepbookClient.deepbook.deepBook.swapExactBaseForQuote({\n      poolKey: 'DEEP_SUI',\n      amount,\n      deepAmount: 0, // whitelisted pool\n      minOut,\n    })(tx);\n\n    tx.transferObjects([baseOut, quoteOut, deepOut], walletAddress);\n    \n  } else if (tokenIn === \"SUI\" && tokenOut === \"DBUSDC\") {\n    // SUI -> DBUSDC: In SUI_DBUSDC pool, SUI is base, DBUSDC is quote\n    console.log(\"[SDK] swapExactBaseForQuote: SUI (base) -> DBUSDC (quote)\");\n    \n    // Manually split SUI from tx.gas before passing to SDK\n    const amountInMist = BigInt(Math.floor(amount * 1e9));\n    const [suiCoin] = tx.splitCoins(tx.gas, [amountInMist]);\n    \n    const [baseOut, quoteOut, deepOut] = deepbookClient.deepbook.deepBook.swapExactBaseForQuote({\n      poolKey: 'SUI_DBUSDC',\n      amount,\n      deepAmount: 1, // non-whitelisted, needs DEEP for fees\n      minOut,\n      baseCoin: suiCoin, // Pass explicit coin split from gas\n    })(tx);\n\n    tx.transferObjects([baseOut, quoteOut, deepOut], walletAddress);\n    \n  } else if (tokenIn === \"DBUSDC\" && tokenOut === \"SUI\") {\n    // DBUSDC -> SUI: swap quote -> base\n    console.log(\"[SDK] swapExactQuoteForBase: DBUSDC (quote) -> SUI (base)\");\n    \n    const [baseOut, quoteOut, deepOut] = deepbookClient.deepbook.deepBook.swapExactQuoteForBase({\n      poolKey: 'SUI_DBUSDC',\n      amount,\n      deepAmount: 1, // non-whitelisted, needs DEEP for fees\n      minOut,\n    })(tx);\n\n    tx.transferObjects([baseOut, quoteOut, deepOut], walletAddress);\n    \n  } else {\n    throw new Error(`Unsupported swap: ${tokenIn} -> ${tokenOut}`);\n  }\n\n  console.log(\"[buildSwapTransactionFrontend] Transaction built successfully\");\n  return tx;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1578, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/hooks/useBalances.ts"],"sourcesContent":["// hooks/useBalances.ts - Balance fetching hook\n\n\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { SuiJsonRpcClient, getJsonRpcFullnodeUrl } from \"@mysten/sui/jsonRpc\";\n\nexport interface TokenBalance {\n  symbol: string;\n  name: string;\n  balance: string;\n  balanceRaw: string;\n  decimals: number;\n  coinType: string;\n  iconUrl: string;\n}\n\nexport function useBalances(address: string | undefined) {\n  const [balances, setBalances] = useState<TokenBalance[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchBalances = useCallback(async () => {\n    if (!address) {\n      console.log(\"[useBalances] No address, clearing balances\");\n      setBalances([]);\n      return;\n    }\n\n    // Normalize address to full 66-char Sui format (0x + 64 hex chars)\n    let normalizedAddress = address;\n    if (address.startsWith('0x')) {\n      const hexPart = address.slice(2);\n      if (hexPart.length < 64) {\n        // Pad with leading zeros\n        normalizedAddress = '0x' + hexPart.padStart(64, '0');\n        console.log(\"[useBalances] Normalized address from\", address, \"to\", normalizedAddress);\n      }\n    }\n\n    console.log(\"[useBalances] Fetching balances for:\", normalizedAddress);\n    setLoading(true);\n    setError(null);\n\n    try {\n      const suiClient = new SuiJsonRpcClient({ \n        network: \"testnet\",\n        url: getJsonRpcFullnodeUrl(\"testnet\") \n      });\n\n      // Fetch all coin balances directly from Sui RPC\n      console.log(\"[useBalances] Calling getAllBalances for address:\", normalizedAddress);\n      const allBalances = await suiClient.getAllBalances({ owner: normalizedAddress });\n      \n      console.log(\"[useBalances] Raw balances:\", allBalances);\n      console.log(\"[useBalances] Number of balances:\", allBalances?.length);\n\n      if (!allBalances || allBalances.length === 0) {\n        console.log(\"[useBalances] No balances found\");\n        setBalances([]);\n        setLoading(false);\n        return;\n      }\n\n      // Fetch metadata for each coin type\n      const balancesWithMetadata: TokenBalance[] = await Promise.all(\n        allBalances.map(async (bal) => {\n          try {\n            const metadata = await suiClient.getCoinMetadata({ coinType: bal.coinType });\n            \n            const decimals = metadata?.decimals ?? 9;\n            const rawBalance = BigInt(bal.totalBalance);\n            const divisor = BigInt(10 ** decimals);\n            const formattedBalance = (Number(rawBalance) / Number(divisor)).toFixed(4);\n\n            return {\n              coinType: bal.coinType,\n              symbol: metadata?.symbol ?? extractSymbol(bal.coinType),\n              name: metadata?.name ?? \"Unknown Token\",\n              balance: formattedBalance,\n              balanceRaw: bal.totalBalance,\n              decimals,\n              iconUrl: metadata?.iconUrl ?? \"\",\n            };\n          } catch (err) {\n            console.log(\"[useBalances] Error fetching metadata for\", bal.coinType, err);\n            const decimals = 9;\n            const rawBalance = BigInt(bal.totalBalance);\n            const divisor = BigInt(10 ** decimals);\n            const formattedBalance = (Number(rawBalance) / Number(divisor)).toFixed(4);\n            \n            return {\n              coinType: bal.coinType,\n              symbol: extractSymbol(bal.coinType),\n              name: \"Unknown Token\",\n              balance: formattedBalance,\n              balanceRaw: bal.totalBalance,\n              decimals,\n              iconUrl: \"\",\n            };\n          }\n        })\n      );\n\n      // Sort: SUI first, then by balance\n      balancesWithMetadata.sort((a, b) => {\n        if (a.symbol === \"SUI\") return -1;\n        if (b.symbol === \"SUI\") return 1;\n        return parseFloat(b.balance) - parseFloat(a.balance);\n      });\n\n      console.log(\"[useBalances] Balances with metadata:\", balancesWithMetadata);\n      setBalances(balancesWithMetadata);\n    } catch (err: any) {\n      console.error(\"[useBalances] Error:\", err);\n      console.error(\"[useBalances] Error message:\", err?.message);\n      console.error(\"[useBalances] Error stack:\", err?.stack);\n      setError(err.message || \"Failed to fetch balances\");\n    } finally {\n      setLoading(false);\n    }\n  }, [address]);\n\n  // Fetch on mount and when address changes\n  useEffect(() => {\n    fetchBalances();\n  }, [fetchBalances]);\n\n  // Auto-refresh every 15 seconds\n  useEffect(() => {\n    if (!address) return;\n\n    const interval = setInterval(() => {\n      console.log(\"[useBalances] Auto-refreshing...\");\n      fetchBalances();\n    }, 15000);\n\n    return () => clearInterval(interval);\n  }, [address, fetchBalances]);\n\n  return {\n    balances,\n    loading,\n    error,\n    refetch: fetchBalances,\n    getBalance: (symbol: string) => {\n      const balance = balances.find((b) => b.symbol === symbol)?.balance || \"0.00\";\n      console.log(`[useBalances] getBalance(${symbol}) = ${balance}`);\n      return balance;\n    },\n  };\n}\n\n// Helper to extract symbol from coin type\nfunction extractSymbol(coinType: string): string {\n  // Example: \"0x2::sui::SUI\" -> \"SUI\"\n  const parts = coinType.split(\"::\");\n  return parts[parts.length - 1]?.toUpperCase() || \"UNKNOWN\";\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1725, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/hooks/useDeepBookQuote.ts"],"sourcesContent":["// hooks/useDeepBookQuote.ts - Get quotes from backend API\n\n\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\n\nexport interface Quote {\n  tokenIn: string;\n  tokenOut: string;\n  amountIn: string;\n  estimatedAmountOut: string;\n  pricePerToken: string;\n  priceImpact: string;\n  poolId: string;\n}\n\nconst BACKEND_URL = process.env.NEXT_PUBLIC_BACKEND_URL || \"http://localhost:3001\";\n\nexport function useDeepBookQuote(\n  tokenIn: string,\n  tokenOut: string,\n  amountIn: string\n) {\n  const [quote, setQuote] = useState<Quote | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchQuote = useCallback(async () => {\n    // Reset if no amount\n    if (!amountIn || parseFloat(amountIn) <= 0) {\n      setQuote(null);\n      setLoading(false);\n      return;\n    }\n\n    // Only support SUI <-> DEEP for now\n    const isValidPair = \n      (tokenIn === \"SUI\" && tokenOut === \"DEEP\") ||\n      (tokenIn === \"DEEP\" && tokenOut === \"SUI\");\n\n    if (!isValidPair) {\n      setError(\"Only SUI <-> DEEP swaps are supported\");\n      setQuote(null);\n      return;\n    }\n\n    console.log(`[DeepBookQuote] Fetching quote: ${amountIn} ${tokenIn} -> ${tokenOut}`);\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Call backend quote endpoint\n      const response = await fetch(`${BACKEND_URL}/api/price/quote`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          tokenIn,\n          tokenOut,\n          amountIn,\n        }),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.message || `Failed to fetch quote: ${response.status}`);\n      }\n      \n      const quoteData = await response.json();\n      console.log(\"[DeepBookQuote] Quote received:\", quoteData);\n      \n      setQuote(quoteData);\n      setLoading(false);\n    } catch (err: any) {\n      console.error(\"[DeepBookQuote] Error:\", err);\n      setError(err?.message || \"Failed to fetch quote\");\n      setLoading(false);\n      setQuote(null);\n    }\n  }, [tokenIn, tokenOut, amountIn]);\n\n  // Fetch quote when inputs change\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      fetchQuote();\n    }, 500); // Debounce by 500ms\n\n    return () => clearTimeout(timeoutId);\n  }, [fetchQuote]);\n\n  return {\n    quote,\n    loading,\n    error,\n    refetch: fetchQuote,\n  };\n}\n"],"names":[],"mappings":";;;;AAIA;AAJA,0DAA0D;AAE1D;;AAcA,MAAM,cAAc,QAAQ,GAAG,CAAC,uBAAuB,IAAI;AAEpD,SAAS,iBACd,OAAe,EACf,QAAgB,EAChB,QAAgB;IAEhB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAe;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,aAAa,IAAA,oNAAW,EAAC;QAC7B,qBAAqB;QACrB,IAAI,CAAC,YAAY,WAAW,aAAa,GAAG;YAC1C,SAAS;YACT,WAAW;YACX;QACF;QAEA,oCAAoC;QACpC,MAAM,cACJ,AAAC,YAAY,SAAS,aAAa,UAClC,YAAY,UAAU,aAAa;QAEtC,IAAI,CAAC,aAAa;YAChB,SAAS;YACT,SAAS;YACT;QACF;QAEA,QAAQ,GAAG,CAAC,CAAC,gCAAgC,EAAE,SAAS,CAAC,EAAE,QAAQ,IAAI,EAAE,UAAU;QACnF,WAAW;QACX,SAAS;QAET,IAAI;YACF,8BAA8B;YAC9B,MAAM,WAAW,MAAM,MAAM,GAAG,YAAY,gBAAgB,CAAC,EAAE;gBAC7D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA;oBACA;gBACF;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACvD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI,CAAC,uBAAuB,EAAE,SAAS,MAAM,EAAE;YAClF;YAEA,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,QAAQ,GAAG,CAAC,mCAAmC;YAE/C,SAAS;YACT,WAAW;QACb,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS,KAAK,WAAW;YACzB,WAAW;YACX,SAAS;QACX;IACF,GAAG;QAAC;QAAS;QAAU;KAAS;IAEhC,iCAAiC;IACjC,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY,WAAW;YAC3B;QACF,GAAG,MAAM,oBAAoB;QAE7B,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAW;IAEf,OAAO;QACL;QACA;QACA;QACA,SAAS;IACX;AACF"}},
    {"offset": {"line": 1807, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/lib/tokens.ts"],"sourcesContent":["// lib/tokens.ts - Token configuration\n\nexport interface Token {\n  symbol: string;\n  name: string;\n  decimals: number;\n  coinType: string;\n  iconUrl: string;\n}\n\n// Base tokens available on DeepBook testnet\nexport const TOKENS: Record<string, Token> = {\n  SUI: {\n    symbol: \"SUI\",\n    name: \"Sui\",\n    decimals: 9,\n    coinType: \"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI\",\n    iconUrl: \"https://assets.coingecko.com/coins/images/26375/small/sui_asset.jpeg\",\n  },\n  DEEP: {\n    symbol: \"DEEP\",\n    name: \"Deepbook Token\",\n    decimals: 6,\n    coinType: \"0x36dbef866a1d62bf7328989a10fb2f07d769f4ee587c0de4a0a256e57e0a58a8::deep::DEEP\",\n    iconUrl: \"https://assets.coingecko.com/coins/images/6319/small/USD_Coin_icon.png\",\n  },\n  DBUSDC: {\n    symbol: \"DBUSDC\",\n    name: \"Deepbook USDC\",\n    decimals: 6,\n    coinType: \"0xf7152c05930480cd740d7311b5b8b45c6f488e3a53a11c3f74a6fac36a52e0d7::DBUSDC::DBUSDC\",\n    iconUrl: \"https://assets.coingecko.com/coins/images/6319/small/USD_Coin_icon.png\",\n  },\n  DBUSDT: {\n    symbol: \"DBUSDT\",\n    name: \"Deepbook USDT\",\n    decimals: 6,\n    coinType: \"0xf7152c05930480cd740d7311b5b8b45c6f488e3a53a11c3f74a6fac36a52e0d7::DBUSDT::DBUSDT\",\n    iconUrl: \"https://assets.coingecko.com/coins/images/325/small/Tether.png\",\n  },\n  WAL: {\n    symbol: \"WAL\",\n    name: \"Walrus\",\n    decimals: 9,\n    coinType: \"0x9ef7676a9f81937a52ae4b2af8d511a28a0b080477c0c2db40b0ab8882240d76::wal::WAL\",\n    iconUrl: \"https://assets.coingecko.com/coins/images/26375/small/sui_asset.jpeg\",\n  },\n  DBTC: {\n    symbol: \"DBTC\",\n    name: \"Deepbook BTC\",\n    decimals: 8,\n    coinType: \"0x6502dae813dbe5e42643c119a6450a518481f03063febc7e20238e43b6ea9e86::dbtc::DBTC\",\n    iconUrl: \"https://assets.coingecko.com/coins/images/1/small/bitcoin.png\",\n  },\n};\n\nexport function getToken(symbol: string): Token | undefined {\n  return TOKENS[symbol.toUpperCase()];\n}\n\nexport function getAllTokens(): Token[] {\n  return Object.values(TOKENS);\n}\n"],"names":[],"mappings":"AAAA,sCAAsC;;;;;;;;;AAW/B,MAAM,SAAgC;IAC3C,KAAK;QACH,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,SAAS;IACX;IACA,MAAM;QACJ,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,SAAS;IACX;IACA,QAAQ;QACN,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,SAAS;IACX;IACA,QAAQ;QACN,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,SAAS;IACX;IACA,KAAK;QACH,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,SAAS;IACX;IACA,MAAM;QACJ,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,SAAS;IACX;AACF;AAEO,SAAS,SAAS,MAAc;IACrC,OAAO,MAAM,CAAC,OAAO,WAAW,GAAG;AACrC;AAEO,SAAS;IACd,OAAO,OAAO,MAAM,CAAC;AACvB"}},
    {"offset": {"line": 1870, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/components/swap/TokenSelector.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { Token, getAllTokens } from \"@/lib/tokens\";\nimport { useClickOutside } from \"@/hooks/useClickOutside\";\n\ninterface TokenSelectorProps {\n  selectedToken: Token;\n  onSelectToken: (token: Token) => void;\n  excludeToken?: Token; // Don't show this token in the list (e.g., the other selected token)\n}\n\nexport function TokenSelector({ selectedToken, onSelectToken, excludeToken }: TokenSelectorProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  \n  useClickOutside(dropdownRef, () => setIsOpen(false));\n\n  const allTokens = getAllTokens();\n  const availableTokens = excludeToken\n    ? allTokens.filter((t) => t.symbol !== excludeToken.symbol)\n    : allTokens;\n\n  return (\n    <div className=\"relative\" ref={dropdownRef}>\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"token-selector hover:bg-gray-800 transition-colors cursor-pointer\"\n      >\n        <img src={selectedToken.iconUrl} alt={selectedToken.symbol} className=\"w-6 h-6 rounded-full\" />\n        <span className=\"font-medium\">{selectedToken.symbol}</span>\n        <svg\n          className={`w-4 h-4 ml-1 transition-transform ${isOpen ? \"rotate-180\" : \"\"}`}\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n\n      {isOpen && (\n        <div className=\"absolute top-full left-0 mt-2 w-64 bg-gray-900 border border-gray-700 rounded-lg shadow-xl z-50 max-h-80 overflow-y-auto\">\n          {availableTokens.map((token) => (\n            <button\n              key={token.symbol}\n              onClick={() => {\n                onSelectToken(token);\n                setIsOpen(false);\n              }}\n              className=\"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-800 transition-colors text-left\"\n            >\n              <img src={token.iconUrl} alt={token.symbol} className=\"w-8 h-8 rounded-full\" />\n              <div className=\"flex-1\">\n                <div className=\"font-medium text-white\">{token.symbol}</div>\n                <div className=\"text-xs text-gray-400\">{token.name}</div>\n              </div>\n              {token.symbol === selectedToken.symbol && (\n                <svg className=\"w-5 h-5 text-cyan-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path\n                    fillRule=\"evenodd\"\n                    d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                    clipRule=\"evenodd\"\n                  />\n                </svg>\n              )}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAYO,SAAS,cAAc,EAAE,aAAa,EAAE,aAAa,EAAE,YAAY,EAAsB;IAC9F,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,cAAc,IAAA,+MAAM,EAAiB;IAE3C,IAAA,2IAAe,EAAC,aAAa,IAAM,UAAU;IAE7C,MAAM,YAAY,IAAA,6HAAY;IAC9B,MAAM,kBAAkB,eACpB,UAAU,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,aAAa,MAAM,IACxD;IAEJ,qBACE,8OAAC;QAAI,WAAU;QAAW,KAAK;;0BAC7B,8OAAC;gBACC,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;;kCAEV,8OAAC;wBAAI,KAAK,cAAc,OAAO;wBAAE,KAAK,cAAc,MAAM;wBAAE,WAAU;;;;;;kCACtE,8OAAC;wBAAK,WAAU;kCAAe,cAAc,MAAM;;;;;;kCACnD,8OAAC;wBACC,WAAW,CAAC,kCAAkC,EAAE,SAAS,eAAe,IAAI;wBAC5E,MAAK;wBACL,QAAO;wBACP,SAAQ;kCAER,cAAA,8OAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;;;;;;;YAIxE,wBACC,8OAAC;gBAAI,WAAU;0BACZ,gBAAgB,GAAG,CAAC,CAAC,sBACpB,8OAAC;wBAEC,SAAS;4BACP,cAAc;4BACd,UAAU;wBACZ;wBACA,WAAU;;0CAEV,8OAAC;gCAAI,KAAK,MAAM,OAAO;gCAAE,KAAK,MAAM,MAAM;gCAAE,WAAU;;;;;;0CACtD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDAA0B,MAAM,MAAM;;;;;;kDACrD,8OAAC;wCAAI,WAAU;kDAAyB,MAAM,IAAI;;;;;;;;;;;;4BAEnD,MAAM,MAAM,KAAK,cAAc,MAAM,kBACpC,8OAAC;gCAAI,WAAU;gCAAwB,MAAK;gCAAe,SAAQ;0CACjE,cAAA,8OAAC;oCACC,UAAS;oCACT,GAAE;oCACF,UAAS;;;;;;;;;;;;uBAjBV,MAAM,MAAM;;;;;;;;;;;;;;;;AA2B/B"}},
    {"offset": {"line": 2023, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/components/wallet/TransactionLimitModal.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { X, AlertCircle } from \"lucide-react\";\n\ninterface TransactionLimitModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function TransactionLimitModal({ isOpen, onClose }: TransactionLimitModalProps) {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    return () => { document.body.style.overflow = 'unset'; };\n  }, [isOpen]);\n\n  if (!mounted || !isOpen) return null;\n\n  return createPortal(\n    <div className=\"fixed inset-0 z-[9999] grid place-items-center p-4\">\n      \n      {/* BACKDROP */}\n      <div \n        className=\"fixed inset-0 bg-[#0a0a0f]/80 backdrop-blur-md transition-opacity animate-in fade-in duration-200\" \n        onClick={onClose}\n      />\n\n      {/* MODAL CARD */}\n      <div className=\"relative w-full max-w-[420px] bg-[#0D111C] rounded-[28px] border border-red-500/20 shadow-[0_0_40px_rgba(239,68,68,0.1)] overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n        \n        {/* Header Section */}\n        <div className=\"p-6 pb-2 flex items-start justify-between\">\n            <div className=\"flex items-center gap-4\">\n                <div className=\"w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center border border-red-500/20 shadow-inner\">\n                    <AlertCircle className=\"w-6 h-6 text-red-500\" strokeWidth={2.5} />\n                </div>\n                <div>\n                    <h2 className=\"text-xl font-bold text-white tracking-wide\">Limit Reached</h2>\n                    <p className=\"text-red-400 text-sm font-medium\">Transaction Failed</p>\n                </div>\n            </div>\n            <button \n                onClick={onClose}\n                className=\"p-2 rounded-full bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-colors\"\n            >\n                <X size={20} />\n            </button>\n        </div>\n\n        {/* Message Body */}\n        <div className=\"p-6 pt-4\">\n            <div className=\"bg-[#1A1515] border border-red-500/10 rounded-2xl p-5 mb-6\">\n                <p className=\"text-gray-300 text-[15px] leading-relaxed mb-3\">\n                    <span className=\"text-white font-semibold\">System Notice:</span> The organization has exhausted its transaction limit for today.\n                </p>\n                <p className=\"text-gray-400 text-sm leading-relaxed\">\n                    We cannot process further requests at this moment. The limit will reset automatically at midnight UTC.\n                </p>\n            </div>\n\n            {/* Close Action */}\n            <button \n                onClick={onClose}\n                className=\"w-full bg-[#1A1B23] hover:bg-[#23242F] text-white font-semibold text-lg py-3.5 rounded-xl border border-white/5 transition-all active:scale-[0.98]\"\n            >\n                Close\n            </button>\n        </div>\n\n      </div>\n    </div>,\n    document.body\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAHA;;;;;AAUO,SAAS,sBAAsB,EAAE,MAAM,EAAE,OAAO,EAA8B;IACnF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,IAAI,QAAQ;YACV,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QACA,OAAO;YAAQ,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QAAS;IACzD,GAAG;QAAC;KAAO;IAEX,IAAI,CAAC,WAAW,CAAC,QAAQ,OAAO;IAEhC,qBAAO,IAAA,4NAAY,gBACjB,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,8OAAC;gBAAI,WAAU;;kCAGb,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC,mOAAW;4CAAC,WAAU;4CAAuB,aAAa;;;;;;;;;;;kDAE/D,8OAAC;;0DACG,8OAAC;gDAAG,WAAU;0DAA6C;;;;;;0DAC3D,8OAAC;gDAAE,WAAU;0DAAmC;;;;;;;;;;;;;;;;;;0CAGxD,8OAAC;gCACG,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC,iMAAC;oCAAC,MAAM;;;;;;;;;;;;;;;;;kCAKjB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAE,WAAU;;0DACT,8OAAC;gDAAK,WAAU;0DAA2B;;;;;;4CAAqB;;;;;;;kDAEpE,8OAAC;wCAAE,WAAU;kDAAwC;;;;;;;;;;;;0CAMzD,8OAAC;gCACG,SAAS;gCACT,WAAU;0CACb;;;;;;;;;;;;;;;;;;;;;;;cAOT,SAAS,IAAI;AAEjB"}},
    {"offset": {"line": 2209, "column": 0}, "map": {"version":3,"sources":["file:///Users/kiran/Desktop/suitent/frontend/app/swap/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport { Header } from \"@/components/layout/Header\";\nimport { ArrowDown } from \"lucide-react\";\nimport { useCurrentAccount } from \"@mysten/dapp-kit\";\nimport { useTurnkey } from \"@turnkey/react-wallet-kit\";\nimport { useUniversalSwap } from \"@/hooks/useUniversalSwap\";\nimport { useBalances } from \"@/hooks/useBalances\";\nimport { useDeepBookQuote } from \"@/hooks/useDeepBookQuote\";\nimport { getAllTokens, Token } from \"@/lib/tokens\";\nimport { TokenSelector } from \"@/components/swap/TokenSelector\";\nimport { TransactionLimitModal } from \"@/components/wallet/TransactionLimitModal\";\n\nexport default function SwapPage() {\n  // Get all tokens\n  const allTokens = getAllTokens();\n  \n  // Form state\n  const [tokenIn, setTokenIn] = useState<Token>(allTokens[0]); // SUI\n  const [tokenOut, setTokenOut] = useState<Token>(allTokens[1]); // DEEP\n  const [amountIn, setAmountIn] = useState(\"\");\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showLimitModal, setShowLimitModal] = useState(false);\n\n  // Swap execution hook (supports both wallet types)\n  const {\n    loading,\n    error: swapError,\n    txDigest,\n    executeSwap,\n    reset,\n    walletType,\n  } = useUniversalSwap();\n\n  // Get wallet address from hook\n  const standardAccount = useCurrentAccount();\n  const { wallets: turnkeyWallets } = useTurnkey();\n  const turnkeyAddress = turnkeyWallets?.[0]?.accounts?.[0]?.address;\n  const walletAddress = standardAccount?.address || turnkeyAddress;\n  const isConnected = !!walletAddress;\n\n  // Balances\n  const { balances, getBalance, refetch: refetchBalances } = useBalances(walletAddress);\n\n  console.log('[SwapPage] walletAddress:', walletAddress);\n  console.log('[SwapPage] balances:', balances);\n  console.log('[SwapPage] tokenIn balance:', getBalance(tokenIn.symbol));\n  console.log('[SwapPage] tokenOut balance:', getBalance(tokenOut.symbol));\n\n  // Real-time quote from DeepBook\n  const {\n    quote,\n    loading: quoteLoading,\n    error: quoteError,\n  } = useDeepBookQuote(tokenIn.symbol, tokenOut.symbol, amountIn);\n\n  // Handle swap direction toggle\n  const handleSwapDirection = useCallback(() => {\n    const tempToken = tokenIn;\n    setTokenIn(tokenOut);\n    setTokenOut(tempToken);\n    // Keep the amount - quote will update automatically\n    reset();\n  }, [tokenIn, tokenOut, reset]);\n\n  // Handle max button\n  const handleMax = useCallback(() => {\n    const balance = getBalance(tokenIn.symbol);\n    if (tokenIn.symbol === \"SUI\" && parseFloat(balance) > 0.01) {\n      setAmountIn((parseFloat(balance) - 0.01).toFixed(4));\n    } else {\n      setAmountIn(balance);\n    }\n  }, [tokenIn.symbol, getBalance]);\n\n  // Handle swap execution\n  const handleSwap = async () => {\n    // Show transaction limit modal for Turnkey wallets (simulating limit)\n    if (walletType === 'turnkey') {\n      setShowLimitModal(true);\n      return;\n    }\n    \n    const result = await executeSwap(tokenIn.symbol, tokenOut.symbol, amountIn);\n    if (result) {\n      setShowSuccess(true);\n      setAmountIn(\"\");\n      refetchBalances();\n      setTimeout(() => setShowSuccess(false), 5000);\n    }\n  };\n\n  // Determine button state\n  const getButtonState = () => {\n    if (!isConnected) {\n      return { text: \"Connect Wallet\", disabled: false };\n    }\n    if (!amountIn || parseFloat(amountIn) <= 0) return { text: \"Enter Amount\", disabled: true };\n    \n    const balance = parseFloat(getBalance(tokenIn.symbol));\n    const amount = parseFloat(amountIn);\n    \n    if (amount > balance) {\n      return { text: `Insufficient ${tokenIn.symbol} Balance`, disabled: true };\n    }\n    if (loading) return { text: \"Swapping...\", disabled: true };\n    return { text: \"Review Swap\", disabled: false };\n  };\n\n  const buttonState = getButtonState();\n\n  return (\n    <>\n      <Header />\n      \n      {/* Page Background - Slush Navy */}\n      <main className=\"min-h-screen w-full bg-[#0a0a0f] flex items-center justify-center px-4 pt-24 pb-12\">\n        \n        {/* Main Swap Card */}\n        <div className=\"w-full max-w-[460px] flex flex-col gap-4\">\n            \n            {/* Header Title */}\n            <div className=\"flex justify-between items-center px-2 mb-2\">\n                <h1 className=\"text-white text-xl font-semibold tracking-wide\">Swap</h1>\n                {isConnected && (\n                  <div className=\"text-slush-text text-xs\">\n                    {walletType === 'turnkey' ? 'üîê Turnkey' : 'üåä Browser'} Wallet\n                  </div>\n                )}\n            </div>\n\n            {/* INPUT CARD 1: YOU PAY */}\n            <div className=\"relative bg-slush-card rounded-[24px] p-5 border border-slush-border hover:border-white/10 transition-colors group\">\n                <div className=\"flex justify-between mb-3\">\n                    <span className=\"text-slush-text font-medium text-sm\">You pay</span>\n                    {isConnected && (\n                      <span className=\"text-slush-text font-medium text-sm flex items-center gap-1\">\n                          Balance: <span className=\"text-white font-semibold\">{getBalance(tokenIn.symbol) || '0.00'}</span>\n                          <button \n                            onClick={handleMax}\n                            className=\"text-sui-blue text-xs bg-sui-blue/10 px-2 py-0.5 rounded-full hover:bg-sui-blue/20 transition-colors ml-2 font-bold\"\n                          >\n                            MAX\n                          </button>\n                      </span>\n                    )}\n                </div>\n                \n                <div className=\"flex items-center justify-between gap-4\">\n                    {/* Amount Input */}\n                    <input \n                        type=\"number\" \n                        placeholder=\"0\"\n                        value={amountIn}\n                        onChange={(e) => setAmountIn(e.target.value)}\n                        className=\"bg-transparent text-4xl font-semibold text-white placeholder-white/20 outline-none w-full\"\n                    />\n\n                    {/* Token Select */}\n                    <TokenSelector\n                      selectedToken={tokenIn}\n                      onSelectToken={setTokenIn}\n                      excludeToken={tokenOut}\n                    />\n                </div>\n            </div>\n\n            {/* SWITCHER ARROW (Absolute centered) */}\n            <div className=\"relative h-2 z-10 flex items-center justify-center\">\n                <button \n                  onClick={handleSwapDirection}\n                  className=\"bg-[#0a0a0f] p-3 rounded-full border-4 border-[#0a0a0f] text-sui-blue hover:text-white hover:bg-sui-blue hover:scale-110 hover:rotate-180 transition-all duration-300 shadow-xl group\"\n                >\n                    <ArrowDown className=\"w-5 h-5 transition-transform duration-300\" strokeWidth={3} />\n                </button>\n            </div>\n\n            {/* INPUT CARD 2: YOU RECEIVE */}\n            <div className=\"bg-slush-card rounded-[24px] p-5 border border-slush-border hover:border-white/10 transition-colors\">\n                <div className=\"flex justify-between mb-3\">\n                    <span className=\"text-slush-text font-medium text-sm\">You receive</span>\n                    {isConnected && (\n                      <span className=\"text-slush-text font-medium text-sm\">\n                          Balance: <span className=\"text-white font-semibold\">{getBalance(tokenOut.symbol) || '0.00'}</span>\n                      </span>\n                    )}\n                </div>\n                \n                <div className=\"flex items-center justify-between gap-4\">\n                    {/* Amount Output (Read Only) */}\n                    <div className=\"text-4xl font-semibold text-white\">\n                      {quoteLoading ? (\n                        <span className=\"text-white/40\">...</span>\n                      ) : quote?.estimatedAmountOut ? (\n                        quote.estimatedAmountOut\n                      ) : (\n                        <span className=\"text-white/40\">~</span>\n                      )}\n                    </div>\n\n                    {/* Token Select */}\n                    <TokenSelector\n                      selectedToken={tokenOut}\n                      onSelectToken={setTokenOut}\n                      excludeToken={tokenIn}\n                    />\n                </div>\n            </div>\n\n            {/* QUOTE DETAILS */}\n            {amountIn && parseFloat(amountIn) > 0 && quote && (\n              <div className=\"bg-slush-card rounded-[20px] p-4 border border-slush-border space-y-2.5\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-slush-text text-sm\">Rate</span>\n                  <span className=\"text-white text-sm font-semibold\">\n                    1 {tokenIn.symbol} ‚âà {quote.pricePerToken} {tokenOut.symbol}\n                  </span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-slush-text text-sm\">Price Impact</span>\n                  <span className={`text-sm font-semibold ${\n                    parseFloat(quote.priceImpact) > 5 \n                      ? 'text-red-400' \n                      : parseFloat(quote.priceImpact) > 2\n                      ? 'text-yellow-400'\n                      : 'text-green-400'\n                  }`}>\n                    {quote.priceImpact}%\n                  </span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-slush-text text-sm\">Pool</span>\n                  <span className=\"text-white/60 text-xs font-mono\">\n                    {quote.poolId?.slice(0, 8)}...{quote.poolId?.slice(-6)}\n                  </span>\n                </div>\n              </div>\n            )}\n\n            {/* Loading Quote */}\n            {amountIn && parseFloat(amountIn) > 0 && quoteLoading && !quote && (\n              <div className=\"bg-slush-card rounded-[20px] p-4 border border-slush-border\">\n                <div className=\"flex items-center justify-center gap-2 text-slush-text text-sm\">\n                  <svg className=\"animate-spin h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Fetching best quote...\n                </div>\n              </div>\n            )}\n\n            {/* Error Display */}\n            {swapError && (\n              <div className=\"px-4 py-3 bg-red-500/10 rounded-2xl border border-red-500/30 text-red-400 text-sm\">\n                {swapError}\n              </div>\n            )}\n\n            {/* Success Display */}\n            {showSuccess && txDigest && (\n              <div className=\"px-4 py-3 bg-green-500/10 rounded-2xl border border-green-500/30 text-green-400 text-sm\">\n                Swap successful!{\" \"}\n                <a\n                  href={`https://suiscan.xyz/testnet/tx/${txDigest}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"underline\"\n                >\n                  View Transaction\n                </a>\n              </div>\n            )}\n\n            {/* MAIN ACTION BUTTON */}\n            <button \n                onClick={buttonState.disabled || !isConnected ? undefined : handleSwap}\n                disabled={buttonState.disabled && isConnected}\n                className={`w-full mt-2 bg-sui-blue hover:bg-blue-500 text-white text-lg font-bold py-4 rounded-[20px] shadow-[0_0_30px_rgba(77,162,255,0.3)] transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 ${\n                  (buttonState.disabled && isConnected) ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n            >\n                {loading ? (\n                    <>\n                        <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"><circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle><path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg>\n                        Swapping...\n                    </>\n                ) : (\n                    buttonState.text\n                )}\n            </button>\n\n        </div>\n      </main>\n      \n      {/* Transaction Limit Modal */}\n      <TransactionLimitModal \n        isOpen={showLimitModal} \n        onClose={() => setShowLimitModal(false)} \n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;;;;;;;;;;;;;AAce,SAAS;IACtB,iBAAiB;IACjB,MAAM,YAAY,IAAA,6HAAY;IAE9B,aAAa;IACb,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAQ,SAAS,CAAC,EAAE,GAAG,MAAM;IACnE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAQ,SAAS,CAAC,EAAE,GAAG,OAAO;IACtE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IAErD,mDAAmD;IACnD,MAAM,EACJ,OAAO,EACP,OAAO,SAAS,EAChB,QAAQ,EACR,WAAW,EACX,KAAK,EACL,UAAU,EACX,GAAG,IAAA,6IAAgB;IAEpB,+BAA+B;IAC/B,MAAM,kBAAkB,IAAA,8KAAiB;IACzC,MAAM,EAAE,SAAS,cAAc,EAAE,GAAG,IAAA,yMAAU;IAC9C,MAAM,iBAAiB,gBAAgB,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE;IAC3D,MAAM,gBAAgB,iBAAiB,WAAW;IAClD,MAAM,cAAc,CAAC,CAAC;IAEtB,WAAW;IACX,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,eAAe,EAAE,GAAG,IAAA,mIAAW,EAAC;IAEvE,QAAQ,GAAG,CAAC,6BAA6B;IACzC,QAAQ,GAAG,CAAC,wBAAwB;IACpC,QAAQ,GAAG,CAAC,+BAA+B,WAAW,QAAQ,MAAM;IACpE,QAAQ,GAAG,CAAC,gCAAgC,WAAW,SAAS,MAAM;IAEtE,gCAAgC;IAChC,MAAM,EACJ,KAAK,EACL,SAAS,YAAY,EACrB,OAAO,UAAU,EAClB,GAAG,IAAA,6IAAgB,EAAC,QAAQ,MAAM,EAAE,SAAS,MAAM,EAAE;IAEtD,+BAA+B;IAC/B,MAAM,sBAAsB,IAAA,oNAAW,EAAC;QACtC,MAAM,YAAY;QAClB,WAAW;QACX,YAAY;QACZ,oDAAoD;QACpD;IACF,GAAG;QAAC;QAAS;QAAU;KAAM;IAE7B,oBAAoB;IACpB,MAAM,YAAY,IAAA,oNAAW,EAAC;QAC5B,MAAM,UAAU,WAAW,QAAQ,MAAM;QACzC,IAAI,QAAQ,MAAM,KAAK,SAAS,WAAW,WAAW,MAAM;YAC1D,YAAY,CAAC,WAAW,WAAW,IAAI,EAAE,OAAO,CAAC;QACnD,OAAO;YACL,YAAY;QACd;IACF,GAAG;QAAC,QAAQ,MAAM;QAAE;KAAW;IAE/B,wBAAwB;IACxB,MAAM,aAAa;QACjB,sEAAsE;QACtE,IAAI,eAAe,WAAW;YAC5B,kBAAkB;YAClB;QACF;QAEA,MAAM,SAAS,MAAM,YAAY,QAAQ,MAAM,EAAE,SAAS,MAAM,EAAE;QAClE,IAAI,QAAQ;YACV,eAAe;YACf,YAAY;YACZ;YACA,WAAW,IAAM,eAAe,QAAQ;QAC1C;IACF;IAEA,yBAAyB;IACzB,MAAM,iBAAiB;QACrB,IAAI,CAAC,aAAa;YAChB,OAAO;gBAAE,MAAM;gBAAkB,UAAU;YAAM;QACnD;QACA,IAAI,CAAC,YAAY,WAAW,aAAa,GAAG,OAAO;YAAE,MAAM;YAAgB,UAAU;QAAK;QAE1F,MAAM,UAAU,WAAW,WAAW,QAAQ,MAAM;QACpD,MAAM,SAAS,WAAW;QAE1B,IAAI,SAAS,SAAS;YACpB,OAAO;gBAAE,MAAM,CAAC,aAAa,EAAE,QAAQ,MAAM,CAAC,QAAQ,CAAC;gBAAE,UAAU;YAAK;QAC1E;QACA,IAAI,SAAS,OAAO;YAAE,MAAM;YAAe,UAAU;QAAK;QAC1D,OAAO;YAAE,MAAM;YAAe,UAAU;QAAM;IAChD;IAEA,MAAM,cAAc;IAEpB,qBACE;;0BACE,8OAAC,yIAAM;;;;;0BAGP,8OAAC;gBAAK,WAAU;0BAGd,cAAA,8OAAC;oBAAI,WAAU;;sCAGX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAG,WAAU;8CAAiD;;;;;;gCAC9D,6BACC,8OAAC;oCAAI,WAAU;;wCACZ,eAAe,YAAY,eAAe;wCAAa;;;;;;;;;;;;;sCAMhE,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAK,WAAU;sDAAsC;;;;;;wCACrD,6BACC,8OAAC;4CAAK,WAAU;;gDAA8D;8DACjE,8OAAC;oDAAK,WAAU;8DAA4B,WAAW,QAAQ,MAAM,KAAK;;;;;;8DACnF,8OAAC;oDACC,SAAS;oDACT,WAAU;8DACX;;;;;;;;;;;;;;;;;;8CAOX,8OAAC;oCAAI,WAAU;;sDAEX,8OAAC;4CACG,MAAK;4CACL,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;;;;;;sDAId,8OAAC,qJAAa;4CACZ,eAAe;4CACf,eAAe;4CACf,cAAc;;;;;;;;;;;;;;;;;;sCAMxB,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAER,cAAA,8OAAC,6NAAS;oCAAC,WAAU;oCAA4C,aAAa;;;;;;;;;;;;;;;;sCAKtF,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAK,WAAU;sDAAsC;;;;;;wCACrD,6BACC,8OAAC;4CAAK,WAAU;;gDAAsC;8DACzC,8OAAC;oDAAK,WAAU;8DAA4B,WAAW,SAAS,MAAM,KAAK;;;;;;;;;;;;;;;;;;8CAK9F,8OAAC;oCAAI,WAAU;;sDAEX,8OAAC;4CAAI,WAAU;sDACZ,6BACC,8OAAC;gDAAK,WAAU;0DAAgB;;;;;uDAC9B,OAAO,qBACT,MAAM,kBAAkB,iBAExB,8OAAC;gDAAK,WAAU;0DAAgB;;;;;;;;;;;sDAKpC,8OAAC,qJAAa;4CACZ,eAAe;4CACf,eAAe;4CACf,cAAc;;;;;;;;;;;;;;;;;;wBAMvB,YAAY,WAAW,YAAY,KAAK,uBACvC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDAA0B;;;;;;sDAC1C,8OAAC;4CAAK,WAAU;;gDAAmC;gDAC9C,QAAQ,MAAM;gDAAC;gDAAI,MAAM,aAAa;gDAAC;gDAAE,SAAS,MAAM;;;;;;;;;;;;;8CAG/D,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDAA0B;;;;;;sDAC1C,8OAAC;4CAAK,WAAW,CAAC,sBAAsB,EACtC,WAAW,MAAM,WAAW,IAAI,IAC5B,iBACA,WAAW,MAAM,WAAW,IAAI,IAChC,oBACA,kBACJ;;gDACC,MAAM,WAAW;gDAAC;;;;;;;;;;;;;8CAGvB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDAA0B;;;;;;sDAC1C,8OAAC;4CAAK,WAAU;;gDACb,MAAM,MAAM,EAAE,MAAM,GAAG;gDAAG;gDAAI,MAAM,MAAM,EAAE,MAAM,CAAC;;;;;;;;;;;;;;;;;;;wBAO3D,YAAY,WAAW,YAAY,KAAK,gBAAgB,CAAC,uBACxD,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;wCAAuB,OAAM;wCAA6B,MAAK;wCAAO,SAAQ;;0DAC3F,8OAAC;gDAAO,WAAU;gDAAa,IAAG;gDAAK,IAAG;gDAAK,GAAE;gDAAK,QAAO;gDAAe,aAAY;;;;;;0DACxF,8OAAC;gDAAK,WAAU;gDAAa,MAAK;gDAAe,GAAE;;;;;;;;;;;;oCAC/C;;;;;;;;;;;;wBAOX,2BACC,8OAAC;4BAAI,WAAU;sCACZ;;;;;;wBAKJ,eAAe,0BACd,8OAAC;4BAAI,WAAU;;gCAA0F;gCACtF;8CACjB,8OAAC;oCACC,MAAM,CAAC,+BAA+B,EAAE,UAAU;oCAClD,QAAO;oCACP,KAAI;oCACJ,WAAU;8CACX;;;;;;;;;;;;sCAOL,8OAAC;4BACG,SAAS,YAAY,QAAQ,IAAI,CAAC,cAAc,YAAY;4BAC5D,UAAU,YAAY,QAAQ,IAAI;4BAClC,WAAW,CAAC,sNAAsN,EAChO,AAAC,YAAY,QAAQ,IAAI,cAAe,kCAAkC,IAC1E;sCAED,wBACG;;kDACI,8OAAC;wCAAI,WAAU;wCAAkC,OAAM;wCAA6B,MAAK;wCAAO,SAAQ;;0DAAY,8OAAC;gDAAO,WAAU;gDAAa,IAAG;gDAAK,IAAG;gDAAK,GAAE;gDAAK,QAAO;gDAAe,aAAY;;;;;;0DAAa,8OAAC;gDAAK,WAAU;gDAAa,MAAK;gDAAe,GAAE;;;;;;;;;;;;oCAA+H;;+CAI/Y,YAAY,IAAI;;;;;;;;;;;;;;;;;0BAQ9B,8OAAC,uKAAqB;gBACpB,QAAQ;gBACR,SAAS,IAAM,kBAAkB;;;;;;;;AAIzC"}}]
}